local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Correct path now includes "Client"
local tokensFolder = workspace:WaitForChild("Items")
	:WaitForChild("Tokens")
	:WaitForChild("Client")

local function teleportToPart(part)
	if not part:IsA("BasePart") then return end
	
	local character = player.Character or player.CharacterAdded:Wait()
	local hrp = character:WaitForChild("HumanoidRootPart")

	-- Teleport slightly above the part
	hrp.CFrame = part.CFrame + Vector3.new(0, 3, 0)
end

local function isValidToken(part)
	if not part:IsA("BasePart") then return false end
	
	local number = tonumber(part.Name)
	return number and number >= 1 and number <= 30
end

-- Teleport to any tokens that already exist
for _, child in ipairs(tokensFolder:GetChildren()) do
	if isValidToken(child) then
		teleportToPart(child)
		break
	end
end

-- Detect newly spawned tokens
tokensFolder.ChildAdded:Connect(function(child)
	if isValidToken(child) then
		print("Token spawned:", child.Name)
		teleportToPart(child)
	end
end)
